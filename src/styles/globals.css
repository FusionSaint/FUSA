@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ---------- LIGHT MODE (neutral gray, no blue tones) ---------- */
    --background: 0 0% 88%;            /* neutral medium-light gray */
    --foreground: 0 0% 10%;            /* very dark gray/black text */
    --muted: 0 0% 82%;                 /* darker muted surfaces */
    --muted-foreground: 0 0% 35%;      /* darker muted text */
    --popover: 0 0% 90%;               /* slightly lifted from background */
    --popover-foreground: 0 0% 10%;
    --card: 0 0% 90%;                  /* slightly lifted cards */
    --card-foreground: 0 0% 10%;

    --border: 0 0% 65%;                /* visible neutral borders */
    --input: 0 0% 65%;

    /* BRAND ACCENTS */
    --primary: 199 100% 42%;           /* darker blue for light mode */
    --primary-foreground: 0 0% 100%;
    --secondary: 44 100% 50%;          /* darker gold */
    --secondary-foreground: 0 0% 10%;

    --accent: 0 0% 85%;
    --accent-foreground: 0 0% 10%;

    --destructive: 347 87% 44%;
    --destructive-foreground: 0 0% 98%;
    --ring: 199 100% 55%;
    --radius: 0.3rem;

    /* Theme tokens aligned to brand */
    --Pink: 316 73% 50%;
    --Purple: 266 85% 45%;
    --Red: 347 87% 44%;
    --Orange: 22 99% 50%;
    --Yellow: 35 77% 45%;
    --Green: 109 58% 38%;
    --Teal: 183 74% 33%;
    --Sky: 197 97% 43%;
    --Blue: 199 100% 50%;
  }

  .dark {
    /* ---------- DARK MODE (your existing setup) ---------- */
    --background: 218 29% 14%;
    --foreground: 210 30% 92%;
    --card: 220 23% 12%;
    --popover: 220 23% 12%;
    --muted: 220 23% 12%;
    --card-foreground: 210 30% 92%;
    --popover-foreground: 210 30% 92%;
    --muted-foreground: 228 20% 70%;
    --border: 220 16% 22%;
    --input: 220 16% 22%;
    --primary: 199 92% 58%;
    --primary-foreground: 210 40% 10%;
    --secondary: 44 100% 64%;
    --secondary-foreground: 210 40% 10%;
    --accent: 210 22% 86%;
    --accent-foreground: 218 29% 7%;
    --destructive: 351 74% 73%;
    --destructive-foreground: 218 29% 7%;
    --ring: 199 92% 58%;
    --Pink: 316 74% 85%;
    --Purple: 267 83% 80%;
    --Red: 351 74% 73%;
    --Orange: 21 86% 73%;
    --Yellow: 40 70% 78%;
    --Green: 105 48% 72%;
    --Teal: 171 47% 69%;
    --Sky: 189 59% 73%;
    --Blue: 199 92% 58%;
  }
}

@layer base {
  * {
    @apply border-border scroll-smooth;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ---------- Typography ---------- */
h1 { @apply scroll-m-20 text-4xl font-bold lg:text-5xl tracking-tight pt-2; }
h2 { @apply mt-5 scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-wide transition-colors first:mt-0; }
h3 { @apply mt-3 scroll-m-20 text-2xl font-semibold tracking-tight; }
h4 { @apply scroll-m-20 text-xl font-semibold tracking-tight; }
p  { @apply leading-7 [&:not(:first-child)]:mt-4; }

/* Links (kept from your last version, with gold hover glow) */
a {
  color: hsl(var(--Blue) / 0.92);
  text-decoration: underline;
  text-underline-offset: 4px;
  transition: color .15s ease, text-shadow .2s ease;
}
a:hover {
  color: hsl(var(--secondary));
  text-shadow:
    0 0 6px hsla(var(--secondary) / 0.75),
    0 0 14px hsla(var(--secondary) / 0.55);
}

blockquote { @apply mt-6 border-l-2 pl-6 italic border-primary; }
pre       { @apply border rounded; }
ul        { @apply my-6 ml-6 list-disc [&>li]:mt-2; }
ol        { @apply my-6 ml-6 list-decimal [&>li]:mt-2; }
table     { @apply w-full; }
tr        { @apply m-0 border-t p-0 even:bg-muted; }
th        { @apply border px-4 py-2 text-left font-bold [&[align=center]]:text-center [&[align=right]]:text-right; }
td        { @apply border px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right; }

.lead  { @apply text-xl text-muted-foreground; }
.large { @apply text-lg font-semibold; }
.small { @apply text-sm font-medium leading-none; }
.muted { @apply text-sm text-muted-foreground; }

::selection { @apply bg-foreground text-background; }

/* ===== scrollbar ===== */
::-webkit-scrollbar { @apply w-3 h-3 rounded-[radius] transition-colors; }
::-webkit-scrollbar-track { @apply bg-primary-foreground; }
::-webkit-scrollbar-thumb { @apply bg-border border-border; }
::-webkit-scrollbar-thumb:hover { @apply bg-primary; }

/* ===== codeblock ===== */
.astro-code { @apply p-4 mt-2; }

/* ===== markdown ===== */
.prose iframe { @apply w-full aspect-video h-auto; }
.prose code:not(.astro-code code) { @apply bg-popover text-popover-foreground py-1 px-2 rounded; }
.prose h1 { @apply italic; }
.prose h4 { @apply mt-3; }

/* Header logo glow utility */
.nav-logo-glow { filter: drop-shadow(0 0 8px #19B1FF); }

.prose details { @apply pl-4 border-l-4 border-primary py-2; }
.prose summary { @apply pl-0; }
.prose .contains-task-list li { @apply list-none; }
.prose li input {
  @apply appearance-none w-3 h-3 border-2 border-Red rounded-sm bg-background checked:bg-Green checked:border-0 mr-2;
}

/* ===== pattern (SOFTER DOTS) ===== */
.pattern {
  --dot-bg: hsl(var(--background));
  --dot-color: hsl(var(--foreground) / 0.10); /* 10% opacity for subtle dots */
  --dot-size: 1px;
  --dot-space: 80px;
  background:
    linear-gradient(90deg, var(--dot-bg) calc(var(--dot-space) - var(--dot-size)), transparent 1%) center/var(--dot-space) var(--dot-space),
    linear-gradient(var(--dot-bg) calc(var(--dot-space) - var(--dot-size)), transparent 1%) center/var(--dot-space) var(--dot-space),
    var(--dot-color);
}

/* callout anchor hover kept intact */
.callout a { @apply hover:text-background; }

/* shiki theme */
html.dark .astro-code,
html.dark .astro-code span {
  color: var(--shiki-dark) !important;
  background-color: var(--shiki-dark-bg) !important;
  font-style: var(--shiki-dark-font-style) !important;
  font-weight: var(--shiki-dark-font-weight) !important;
  text-decoration: var(--shiki-dark-text-decoration) !important;
}
